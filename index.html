<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="" href="styles.css">
	</head>

	<body>
		<div class="main">
			<h2 class="h2">Ozean Bewerbung</h2>
			<div class="second-test">
				<hr>
				<p id='submissionCount'>Läd Anzahl an Bewerbungen...</p>
				<p class="hinweis">Hinweis: Die Anzahl an Bewerbungen ist auf 40<br> begrenzt, wenn sie trotzdem eine Absenden,<br> kommen sie auf eine Warteliste. <br> Der Server den diese Seite benutzt ist langsam <br> also haben sie geduld.</p>
				<hr>
				<form action='https://backend-lu4v.onrender.com/submit', method='POST'>
					<p>Name des Teilnehmenden:</p>
					<input type="text" name="Name" class="input">
					<br>
					<hr>
					<p>Vorname des Teilnehmenden:</p>
					<input type="text" name="Vorname" class="input">
					<br>
					<hr>
					<p>E-Mail des Teilnehmenden:</p>
					<input type="text" name="Mail" class="input">
					<br>
					<hr>
					<button type="submit" class="button">Submit</button>
				</form>
			</div>
		</div>
		<div class="footer">
			<p>Kontakt: Antonia Spielvogel</p>
			<p>E-mail: antonia-gsnf@web.de</p>
			<hr>
			<p>Kontakt: Vincent Zimmermann © 2025</p>
			<p>E-mail: zimmermannvincent921@gmail.com</p>
			
		</div>
	</body>

	<script>
		const backendUrl = 'https://backend-lu4v.onrender.com';
		
		async function fetchSubmissionCount() {
			const res = await fetch(`${backendUrl}/submission-count`);
			const data = await res.json();
			const number = data.result.rows[0].count; 

			document.getElementById("submissionCount").textContent = `Anzahl an Bewerbungen: ${number}`;
		}

		fetchSubmissionCount();
	</script>
</html>
